\begin{figure}
    \begin{lstlisting}[style=Java-github]
public void removeAllAppenders() {
   if(appenderList != null) {
      int len = appenderList.size();
      for(int i = 0; i < len; i++) {
         Appender a = (Appender) appenderList.elementAt(i);
	 a.close();
      }
      appenderList.removeAllElements();
      appenderList = null;
    }
}
    \end{lstlisting}
    \caption{Data Race Situation Occurred in Log4j}
    \label{fig:code}
\end{figure}




